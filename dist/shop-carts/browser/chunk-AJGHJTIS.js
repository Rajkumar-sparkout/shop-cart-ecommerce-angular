import{a as U,b as Z}from"./chunk-HB45FD3Q.js";import{b as T,c as s,d as O,e as q,f as V,h as u,j as J,k as M,l as R,m as G,n as L,o as A,p as B,r as D,s as j,t as z}from"./chunk-7N2X5KGD.js";import{b as H}from"./chunk-ZY3RVB74.js";import{A as g,Aa as w,B as f,Ba as _,Ca as E,Ha as F,J as d,K as y,La as N,Na as P,O as c,Oa as I,Q as l,T as t,U as e,V as m,Z as h,_ as S,ea as a,fa as x,la as C,oa as k,t as v}from"./chunk-M5N2CSJO.js";var K=(i,p)=>({"text-white-50 bg-cyan-700 hover:bg-cyan-900":i,"bg-gray-300 text-gray-500 cursor-not-allowed":p});function Q(i,p){i&1&&(t(0,"li",44)(1,"div",45),g(),t(2,"svg",46),m(3,"path",47),e(),f(),t(4,"span",48),a(5,"Create product"),e()()())}function W(i,p){if(i&1&&(t(0,"li",44)(1,"div",45),g(),t(2,"svg",46),m(3,"path",47),e(),f(),t(4,"span",48),a(5),e()()()),i&2){let n=S();d(5),x(n.id)}}function X(i,p){i&1&&(t(0,"p",49),a(1,"Product name is required"),e())}function Y(i,p){if(i&1&&(t(0,"option"),a(1),e()),i&2){let n=p.$implicit;d(),x(n)}}function ee(i,p){i&1&&(t(0,"p",50),a(1,"Please select caregory"),e())}function te(i,p){i&1&&(t(0,"p",50),a(1,"Description is required"),e())}function re(i,p){i&1&&(t(0,"p",49),a(1,"Price is required"),e())}function ie(i,p){i&1&&(t(0,"p",49),a(1,"Offer is required"),e())}function oe(i,p){i&1&&(t(0,"p",49),a(1,"Rating is required"),e())}function ae(i,p){i&1&&(t(0,"p",49),a(1,"Image is required"),e())}var be=(()=>{class i{productService;router;activatedRoute;categories=["mobile","laptop","computer","tablet","LED_tv","air_cooler","washine_machine","fridge"];imageSrc="";message="";messageType="success";productName;category;description;price;offer;rating;image;products;id;constructor(n,o,r){this.productService=n,this.router=o,this.activatedRoute=r}ngOnInit(){this.activatedRoute.params.subscribe(n=>{n.id&&(this.getProductById(n.id),this.id=n.id)})}productForm=new V({productName:new u("",s.required),category:new u("",s.required),description:new u("",s.required),price:new u("",s.required),offer:new u("",s.required),rating:new u("",s.required),image:new u("",s.required)});get productFormControl(){return this.productForm.controls}fileChangeEvent(n){if(n.target.files){let o=n.target.files[0],r=new FileReader;r.onload=b=>{this.imageSrc=b.target.result},r.readAsDataURL(o)}}onSubmit(){let n={productName:JSON.parse(JSON.stringify(this.productForm.value.productName)),category:JSON.parse(JSON.stringify(this.productForm.value.category)),description:JSON.parse(JSON.stringify(this.productForm.value.description)),price:JSON.parse(JSON.stringify(this.productForm.value.price)),offer:JSON.parse(JSON.stringify(this.productForm.value.offer)),rating:JSON.parse(JSON.stringify(this.productForm.value.rating)),image:this.imageSrc};this.products?this.productService.updateProductById(this.products[0].id,n).subscribe({next:o=>{this.message="Product updated successfully",this.messageType="success",setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)},error:o=>{console.log(o),this.message="Product update failed",this.messageType="error"}}):this.productForm.valid&&this.productService.createProduct(n).subscribe({next:o=>{this.message="Product created successfully",this.messageType="success",setTimeout(()=>{this.router.navigate(["/dashboard"])},1e3)},error:o=>{console.log(o),this.message="Product created failed",this.messageType="error"}})}getProductById(n){this.productService.getProductById(n).subscribe({next:o=>{this.products=o,this.productForm.patchValue({productName:o[0].productName,category:o[0].category,description:o[0].description,price:o[0].price,rating:o[0].rating,offer:o[0].offer})},error:o=>{console.log(o)}})}static \u0275fac=function(o){return new(o||i)(y(Z),y(P),y(N))};static \u0275cmp=v({type:i,selectors:[["app-create-product"]],standalone:!0,features:[C],decls:78,vars:17,consts:[["id","toast-container",1,"fixed","top-4","end-4","z-50","w-64"],[1,"p-16","sm:ml-64","mt-6","bg-[#F5F5F6]"],["aria-label","Breadcrumb",1,"flex"],[1,"inline-flex","items-center","space-x-1","md:space-x-2","rtl:space-x-reverse"],[1,"inline-flex","items-center"],["routerLink","/dashboard",1,"inline-flex","items-center","text-sm","font-medium","text-gray-700","hover:text-primary-600","dark:text-gray-400","dark:hover:text-white"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","currentColor","viewBox","0 0 20 20",1,"me-2.5","h-3","w-3"],["d","m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"],["aria-current","page",4,"ngIf"],[3,"message","type"],[1,"mt-8","code-example"],[1,"w-full","p-4","border","border-gray-200","bg-gray-50","rounded-t-xl","dark:border-gray-600","dark:bg-gray-700"],[1,"grid","grid-cols-3"],[1,"col-span-2","sm:col-span-1"],[1,"text-2xl","font-bold","dark:text-white"],[1,"code-preview-wrapper"],["id","card-pricing-example",1,"flex","p-0","bg-white","border-gray-200","bg-gradient-to-r","code-preview","dark:bg-gray-900","border-x","dark:border-gray-600"],[1,"w-full","code-responsive-wrapper"],[1,"m-4"],[1,"w-full"],[3,"ngSubmit","formGroup"],[1,"grid","gap-6","mb-6","md:grid-cols-1"],["for","company_name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","label","type","text","formControlName","productName","placeholder","Enter the product name",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400"],["class","mt-2 text-xs text-red-600 dark:text-red-500",4,"ngIf"],["for","user-role",1,"inline-flex","items-center","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["type","button","data-tooltip-target","tooltip-user-role","data-tooltip-style","dark",1,"ml-1"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-4","h-4","text-gray-400","hover:text-gray-900","dark:hover:text-white","dark:text-gray-500"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z","clip-rule","evenodd"],[1,"sr-only"],["id","tooltip-user-role","role","tooltip",1,"inline-block","absolute","invisible","z-10","py-2","px-3","max-w-sm","text-xs","font-normal","text-white","bg-gray-900","rounded-lg","shadow-sm","opacity-0","tooltip","dark:bg-gray-700"],["data-popper-arrow","",1,"tooltip-arrow"],["id","user-role","formControlName","category",1,"bg-gray-50","border","border-gray-300","text-gray-900","text-sm","rounded-lg","focus:ring-primary-500","focus:border-primary-500","block","w-full","p-2.5","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-primary-500","dark:focus:border-primary-500"],[4,"ngFor","ngForOf"],["class","mt-2 text-sm text-red-600 dark:text-red-500",4,"ngIf"],["for","agent_name",1,"block","mb-2","text-sm","font-medium","text-gray-900","dark:text-white"],["id","label","type","text","formControlName","description","placeholder","Enter the description",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400"],["id","label","type","number","formControlName","price","placeholder","Enter the price",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400"],["id","label","type","number","formControlName","offer","placeholder","Enter the offer",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400"],["id","label","type","number","formControlName","rating","placeholder","Enter the offer",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400"],["id","label","type","file","formControlName","image","placeholder","Enter the price",1,"block","w-full","text-sm","text-gray-900","border","border-gray-300","rounded-lg","cursor-pointer","bg-gray-50","dark:text-gray-400","focus:outline-none","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400",3,"change"],["type","submit",1,"flex","gap-2","items-center","justify-center","text-white","bg-primary-700","hover:bg-primary-800","focus:ring-4","focus:ring-primary-300","font-medium","rounded-lg","text-sm","px-4","py-2","dark:bg-primary-600","dark:hover:bg-primary-700","focus:outline-none","dark:focus:ring-primary-800",3,"ngClass"],[1,"code-syntax-wrapper"],[1,"relative","border-gray-200","border-y","border-x","code-syntax","dark:border-gray-600"],["aria-current","page"],[1,"flex","items-center"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400","rtl:rotate-180"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m9 5 7 7-7 7"],[1,"ms-1","text-sm","font-medium","text-gray-500","dark:text-gray-400","md:ms-2"],[1,"mt-2","text-xs","text-red-600","dark:text-red-500"],[1,"mt-2","text-sm","text-red-600","dark:text-red-500"]],template:function(o,r){o&1&&(m(0,"app-navbar")(1,"app-sidebar")(2,"div",0),t(3,"div",1)(4,"nav",2)(5,"ol",3)(6,"li",4)(7,"a",5),g(),t(8,"svg",6),m(9,"path",7),e(),a(10," Home "),e()(),c(11,Q,6,0,"li",8)(12,W,6,1,"li",8),e()(),f(),m(13,"app-popup",9),t(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"h4",14),a(19,"Products"),e()()()(),t(20,"div",15)(21,"div",16)(22,"div",17)(23,"section",18)(24,"div",19)(25,"form",20),h("ngSubmit",function(){return r.onSubmit()}),t(26,"div",21)(27,"div")(28,"label",22),a(29,"Product name"),e(),m(30,"input",23),c(31,X,2,0,"p",24),e(),t(32,"div")(33,"label",25),a(34," Category "),t(35,"button",26),g(),t(36,"svg",27),m(37,"path",28),e(),f(),t(38,"span",29),a(39,"Show information"),e()(),t(40,"div",30),a(41," Flowbite provides 7 predefined roles: Owner, Admin, Editor, Contributor and Viewer. Assign the most suitable role to each user, giving them the most appropriate level of control. "),m(42,"div",31),e()(),t(43,"select",32)(44,"option"),a(45,"Select"),e(),c(46,Y,2,1,"option",33),e(),c(47,ee,2,0,"p",34),e(),t(48,"div")(49,"label",35),a(50,"Description"),e(),m(51,"input",36),c(52,te,2,0,"p",34),e(),t(53,"div")(54,"label",35),a(55,"Price"),e(),m(56,"input",37),c(57,re,2,0,"p",24),e(),t(58,"div")(59,"label",35),a(60,"Offer"),e(),m(61,"input",38),c(62,ie,2,0,"p",24),e(),t(63,"div")(64,"label",35),a(65,"Star rating"),e(),m(66,"input",39),c(67,oe,2,0,"p",24),e(),t(68,"div")(69,"label",35),a(70,"Image"),e(),t(71,"input",40),h("change",function($){return r.fileChangeEvent($)}),e(),c(72,ae,2,0,"p",24),e()(),t(73,"button",41)(74,"span"),a(75,"Submit"),e()()()()()()()(),t(76,"div",42),m(77,"div",43),e()()()),o&2&&(d(11),l("ngIf",!r.id),d(),l("ngIf",r.id),d(),l("message",r.message)("type",r.messageType),d(12),l("formGroup",r.productForm),d(6),l("ngIf",r.productFormControl.productName.touched&&r.productFormControl.productName.invalid),d(15),l("ngForOf",r.categories),d(),l("ngIf",r.productFormControl.category.touched&&r.productFormControl.category.invalid),d(5),l("ngIf",r.productFormControl.description.touched&&r.productFormControl.description.invalid),d(5),l("ngIf",r.productFormControl.price.touched&&r.productFormControl.price.invalid),d(5),l("ngIf",r.productFormControl.offer.touched&&r.productFormControl.offer.invalid),d(5),l("ngIf",r.productFormControl.rating.touched&&r.productFormControl.rating.invalid),d(5),l("ngIf",r.productFormControl.image.touched&&r.productFormControl.image.invalid),d(),l("ngClass",k(14,K,!r.productForm.invalid,r.productForm.invalid)))},dependencies:[H,U,D,J,A,B,T,M,L,O,q,j,R,G,F,w,_,E,z,I]})}return i})();export{be as CreateProductComponent};
