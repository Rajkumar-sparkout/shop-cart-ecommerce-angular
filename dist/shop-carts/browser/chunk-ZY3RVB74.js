import{A as g,B as f,Ca as C,Ha as S,J as s,K as p,Na as L,O as h,Q as x,T as r,U as n,V as l,Y as v,Z as d,_ as c,d as w,ea as a,fa as y,ga as b,la as k,p as I,t as _,y as m,z as u}from"./chunk-M5N2CSJO.js";var E=(()=>{class i{cartItemList=[];productList=new w([]);constructor(){}getProducts(){return this.productList.asObservable()}addtoCart(e){let t=this.cartItemList.findIndex(o=>o.id===e.id);t>-1?(this.cartItemList[t].quantity+=e.quantity,this.cartItemList[t].discountedPrice=this.calculateDiscountedPrice(e.price,e.offer),this.cartItemList[t].total=this.calculateDiscountedPrice(e.price,e.offer)*this.cartItemList[t].quantity):(e.discountedPrice=this.calculateDiscountedPrice(e.price,e.offer),e.total=this.calculateDiscountedPrice(e.price,e.offer),this.cartItemList.unshift(e)),this.productList.next([...this.cartItemList]),this.getTotalPrice()}getTotalPrice(){let e=0;return this.cartItemList.map(t=>{e+=t.total}),e}calculateDiscountedPrice(e,t){return t?e-e*(t/100):e}removeCartItem(e){this.cartItemList.map((t,o)=>{e.id===t.id&&this.cartItemList.splice(o,1)}),this.productList.next(this.cartItemList)}removeAllCart(){this.cartItemList=[],this.productList.next(this.cartItemList)}static \u0275fac=function(t){return new(t||i)};static \u0275prov=I({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function P(i,j){if(i&1){let e=v();r(0,"div",16)(1,"button",17),d("click",function(){m(e);let o=c();return u(o.gotoCart())}),g(),r(2,"svg",18),l(3,"path",19),n(),f(),r(4,"span",5),a(5,"Notifications"),n(),r(6,"div",20),a(7),n()()()}if(i&2){let e=c();s(7),y(e.totalItem)}}function N(i,j){if(i&1){let e=v();r(0,"div",21)(1,"div",22)(2,"h4",23),a(3),n(),r(4,"div",24),a(5),n()(),r(6,"div",25)(7,"a",26),d("click",function(){m(e);let o=c();return u(o.logout())}),r(8,"div",27),d("click",function(){m(e);let o=c();return u(o.logout())}),l(9,"img",28),r(10,"span",29),a(11,"Logout"),n()()()()()}if(i&2){let e=c();s(3),b(" ",e.userRole," "),s(2),b(" ",e.email," ")}}var A=(()=>{class i{cartService;router;cart=!1;totalItem=0;userDropdown=!1;userRole;email;constructor(e,t){this.cartService=e,this.router=t}ngOnInit(){localStorage.getItem("role")=="User"&&(this.cart=!0),localStorage.getItem("role")&&(this.userRole=localStorage.getItem("role"),this.email=localStorage.getItem("email")),this.cartService.getProducts().subscribe(e=>{this.totalItem=e.length})}gotoCart(){this.router.navigate(["cart"])}marginRight="100";toggleDropdown(){this.userDropdown=!this.userDropdown}logout(){localStorage.removeItem("email"),localStorage.removeItem("role"),window.location.href=window.location.href}static \u0275fac=function(t){return new(t||i)(p(E),p(L))};static \u0275cmp=_({type:i,selectors:[["app-navbar"]],standalone:!0,features:[k],decls:20,vars:2,consts:[[1,"fixed","top-0","z-50","w-full","bg-white-50","border-b","border-gray-200","dark:bg-gray-800","dark:border-gray-700"],[1,"px-3","py-3","lg:px-5","lg:pl-3"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","justify-start","rtl:justify-end"],["data-drawer-target","logo-sidebar","data-drawer-toggle","logo-sidebar","aria-controls","logo-sidebar","type","button",1,"inline-flex","items-center","p-2","text-sm","text-gray-500","rounded-lg","sm:hidden","hover:bg-gray-100","focus:outline-none","focus:ring-2","focus:ring-gray-200","dark:text-gray-400","dark:hover:bg-gray-700","dark:focus:ring-gray-600"],[1,"sr-only"],["aria-hidden","true","fill","currentColor","viewBox","0 0 20 20","xmlns","http://www.w3.org/2000/svg",1,"w-6","h-6"],["clip-rule","evenodd","fill-rule","evenodd","d","M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"],["href","https://flowbite.com",1,"flex","ms-2","md:me-24"],["src","assets/images/nav-logo.jpg","alt","FlowBite Logo",1,"h-12","w-40","me-3"],[1,"flex","items-center"],[1,"flex","items-center","ms-3"],["class","mr-12",4,"ngIf"],["type","button","aria-expanded","false","data-dropdown-toggle","dropdown-user",1,"flex","text-sm","bg-gray-800","rounded-full","focus:ring-4","focus:ring-gray-300","dark:focus:ring-gray-600",3,"click"],["src","assets/images/profile.jpg","alt","user photo",1,"w-8","h-8","rounded-full"],["class","z-10 bg-white-50 rounded-lg shadow w-60 top-16 right-0 absolute mr-4","id","dropdown-user",4,"ngIf"],[1,"mr-12"],[1,"relative","inline-flex","items-center","p-3","text-sm","font-medium","text-center","text-white","focus:ring-4","focus:outline-none","focus:ring-blue-300","dark:bg-blue-600","dark:hover:bg-blue-700","dark:focus:ring-blue-800",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-7","h-7","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","1.5","d","M5 4h1.5L9 16m0 0h8m-8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm8 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-8.5-3h9.25L19 7H7.312"],[1,"absolute","inline-flex","items-center","justify-center","w-6","h-6","text-xs","font-bold","text-[#ffff]","bg-red-500","border-2","border-white","rounded-full","top-1","-end-1","dark:border-gray-900"],["id","dropdown-user",1,"z-10","bg-white-50","rounded-lg","shadow","w-60","top-16","right-0","absolute","mr-4"],[1,"px-4","md:px-6","py-3.5","border-[#EBECEF]","border-b","border-solid"],[1,"text-lg","font-semibold","text-[#C55A11]","break-words"],[1,"text-sm","font-normal","text-[#8E8E93]","break-words"],[1,"mx-2","py-3.5","border-[#EBECEF]","border-t","border-solid"],[1,"flex","justify-between","p-3","hover:bg-[#F9EFE7]","rounded-lg",3,"click"],[1,"flex","items-center","gap-3","cursor-pointer",3,"click"],["src","assets/images/logout-logo.png","alt","",1,"w-6","h-6"],[1,"text-[#0E0E2C]","text-sm","font-normal","cursor-pointer"]],template:function(t,o){t&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4)(5,"span",5),a(6,"Open sidebar"),n(),g(),r(7,"svg",6),l(8,"path",7),n()(),f(),r(9,"a",8),l(10,"img",9),n()(),r(11,"div",10)(12,"div",11),h(13,P,8,1,"div",12),r(14,"div")(15,"button",13),d("click",function(){return o.toggleDropdown()}),r(16,"span",5),a(17,"Open user menu"),n(),l(18,"img",14),n()(),h(19,N,12,2,"div",15),n()()()()()),t&2&&(s(13),x("ngIf",o.cart),s(6),x("ngIf",o.userDropdown))},dependencies:[S,C]})}return i})();export{E as a,A as b};
